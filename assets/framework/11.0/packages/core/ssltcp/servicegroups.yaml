name: servicegroups
tags:
  - ssltcp
  - core
sections:
  - name: trafficmanagement.loadbalancing.servicegroups
    elements:
      - name: DUMMY_SSLTCP
        fields:
          - id: name
            data: <<prefix>>_DUMMY_SSLTCP
          - id: type
            data: TCP
          - id: server
            data: <<core.servers.trafficmanagement.loadbalancing.servers.DUMMY/name>>
        expressions:
          install: add servicegroup <<name>> <<type>> -healthMonitor NO
          uninstall: rm servicegroup <<name>>


  - name: trafficmanagement.loadbalancing.servicegroups.bindings
    elements:
      - name: DUMMY_SSLTCP
        fields:
          - id: name
            data: <<prefix>>_DUMMY_SSLTCP
          - id: servicegroup
            data: <<core.servicegroups.trafficmanagement.loadbalancing.servicegroups.DUMMY_SSLTCP/name>>
          - id: server
            data: <<core.servers.trafficmanagement.loadbalancing.servers.DUMMY/name>>
        expressions:
          install: bind servicegroup <<servicegroup>> <<server>> *
          uninstall: unbind servicegroup <<servicegroup>> <server>> *