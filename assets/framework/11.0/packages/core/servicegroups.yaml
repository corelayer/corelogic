name: servicegroups
tags:
  - core
sections:
  - name: trafficmanagement.loadbalancing.servicegroups
    elements:
      - name: DUMMY_HTTP
        fields:
          - id: name
            data: <<prefix>>_DUMMY_HTTP
          - id: type
            data: HTTP
          - id: server
            data: <<core.servers.trafficmanagement.loadbalancing.servers.DUMMY/name>>
        expressions:
          install: add servicegroup <<name>> <<type>> -healthMonitor NO
          uninstall: rm servicegroup <<name>>
      - name: DUMMY_TCP
        fields:
          - id: name
            data: <<prefix>>_DUMMY_TCP
          - id: type
            data: TCP
          - id: server
            data: <<core.servers.trafficmanagement.loadbalancing.servers.DUMMY/name>>
        expressions:
          install: add servicegroup <<name>> <<type>> -healthMonitor NO
          uninstall: rm servicegroup <<name>>
      - name: DUMMY_UDP
        fields:
          - id: name
            data: <<prefix>>_DUMMY_UDP
          - id: type
            data: UDP
          - id: server
            data: <<core.servers.trafficmanagement.loadbalancing.servers.DUMMY/name>>
        expressions:
          install: add servicegroup <<name>> <<type>> -healthMonitor NO
          uninstall: rm servicegroup <<name>>
  - name: trafficmanagement.loadbalancing.servicegroups.bindings
    elements:
      - name: DUMMY_HTTP
        fields:
          - id: name
            data: <<prefix>>_DUMMY_HTTP
          - id: servicegroup
            data: <<core.servicegroups.trafficmanagement.loadbalancing.servicegroups.DUMMY_HTTP/name>>
          - id: server
            data: <<core.servers.trafficmanagement.loadbalancing.servers.DUMMY/name>>
        expressions:
          install: bind servicegroup <<servicegroup>> <<server>> *
          uninstall: unbind servicegroup <<servicegroup>> <server>> *
      - name: DUMMY_TCP
        fields:
          - id: name
            data: <<prefix>>_DUMMY_TCP
          - id: servicegroup
            data: <<core.servicegroups.trafficmanagement.loadbalancing.servicegroups.DUMMY_TCP/name>>
          - id: server
            data: <<core.servers.trafficmanagement.loadbalancing.servers.DUMMY/name>>
        expressions:
          install: bind servicegroup <<servicegroup>> <<server>> *
          uninstall: unbind servicegroup <<servicegroup>> <server>> *
      - name: DUMMY_UDP
        fields:
          - id: name
            data: <<prefix>>_DUMMY_UDP
          - id: servicegroup
            data: <<core.servicegroups.trafficmanagement.loadbalancing.servicegroups.DUMMY_UDP/name>>
          - id: server
            data: <<core.servers.trafficmanagement.loadbalancing.servers.DUMMY/name>>
        expressions:
          install: bind servicegroup <<servicegroup>> <<server>> *
          uninstall: unbind servicegroup <<servicegroup>> <server>> *