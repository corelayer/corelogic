name: drop
tags:
  - core
sections:
  - name: trafficmanagement.loadbalancing.virtualservers
    elements:
      - name: DROP_HTTP
        fields:
        - id: name
          data: <<prefix>>_DROP_HTTP
        - id: servicegroup
          data: <<core.servicegroups.trafficmanagement.loadbalancing.servicegroups.DUMMY_HTTP/name>>
        expressions:
          install: |
            add lb vserver <<name>> HTTP 0.0.0.0 0
            bind lb vserver <<name>> <<servicegroup>>
          uninstall: rm lb vserver <<name>>
      - name: DROP_SSL
        fields:
        - id: name
          data: <<prefix>>_DROP_SSL
        - id: servicegroup
          data: <<core.servicegroups.trafficmanagement.loadbalancing.servicegroups.DUMMY_HTTP/name>>
        expressions:
          install: |
            add lb vserver <<name>> HTTP 0.0.0.0 0
            bind lb vserver <<name>> <<servicegroup>>
          uninstall: rm lb vserver <<name>>
      - name: DROP_TCP
        fields:
          - id: name
            data: <<prefix>>_DROP_TCP
          - id: servicegroup
            data: <<core.servicegroups.trafficmanagement.loadbalancing.servicegroups.DUMMY_TCP/name>>
        expressions:
         install: |
           add lb vserver <<name>> TCP 0.0.0.0 0
           bind lb vserver <<name>> <<servicegroup>>
         uninstall: rm lb vserver <<name>>
      - name: DROP_SSLTCP
        fields:
          - id: name
            data: <<prefix>>_DROP_SSLTCP
          - id: servicegroup
            data: <<core.servicegroups.trafficmanagement.loadbalancing.servicegroups.DUMMY_TCP/name>>
        expressions:
         install: |
           add lb vserver <<name>> TCP 0.0.0.0 0
           bind lb vserver <<name>> <<servicegroup>>
         uninstall: rm lb vserver <<name>>
      - name: DROP_UDP
        fields:
          - id: name
            data: <<prefix>>_DROP_UDP
          - id: servicegroup
            data: <<core.servicegroups.trafficmanagement.loadbalancing.servicegroups.DUMMY_UDP/name>>
        expressions:
          install: |
            add lb vserver <<name>> UDP 0.0.0.0 0
            bind lb vserver <<name>> <<servicegroup>>
          uninstall: rm lb vserver <<name>>